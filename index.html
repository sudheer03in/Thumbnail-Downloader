<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Downloader | MP3, MP4 & Thumbnail</title>
    <style>
        body { font-family: 'Inter', sans-serif; background: #ffffff; color: #000; margin: 0; padding: 20px; }
        .wrapper { max-width: 650px; margin: 50px auto; border: 3px solid #000; border-radius: 20px; padding: 30px; box-shadow: 15px 15px 0px #000; }
        h1 { font-size: 2.5rem; text-transform: uppercase; letter-spacing: -1px; margin-bottom: 5px; }
        .input-group { margin: 30px 0; }
        input { width: 100%; padding: 18px; border: 3px solid #000; border-radius: 12px; font-size: 16px; box-sizing: border-box; font-weight: bold; }
        
        .action-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .btn { padding: 18px; border: 3px solid #000; border-radius: 12px; font-weight: 900; cursor: pointer; text-transform: uppercase; transition: 0.2s; }
        .btn-black { background: #000; color: #fff; }
        .btn-white { background: #fff; color: #000; }
        .btn:hover { transform: translate(-3px, -3px); box-shadow: 5px 5px 0px #000; }
        .btn:active { transform: translate(0, 0); box-shadow: none; }

        #display-area { display: none; margin-top: 30px; border-top: 3px solid #000; padding-top: 20px; }
        #display-area img { width: 100%; border: 3px solid #000; border-radius: 15px; }
        
        .instructions { margin-top: 40px; text-align: left; background: #eee; padding: 20px; border-radius: 12px; border: 2px solid #000; }
        .step { margin-bottom: 10px; display: flex; align-items: center; gap: 10px; font-weight: bold; }
    </style>
</head>
<body>

<div class="wrapper">
    <h1>DOWNLOADER</h1>
    <p>Premium High-Speed Video & Audio Tool</p>

    <div class="input-group">
        <input type="text" id="targetUrl" placeholder="Paste YouTube Link Here...">
    </div>

    <div class="action-btns">
        <button class="btn btn-black" onclick="startConvert('mp4')">Get Video</button>
        <button class="btn btn-black" onclick="startConvert('mp3')">Get Audio</button>
        <button class="btn btn-white" style="grid-column: span 2;" onclick="loadPreview()">Show Thumbnail & Info</button>
    </div>

    <div id="display-area">
        <img id="previewPic" src="" alt="Thumbnail">
        <div id="download-links" style="margin-top: 20px;">
            <p id="loading-msg" style="font-weight: bold;"></p>
            <a id="final-link" class="btn btn-black" style="display:none; text-decoration:none; text-align:center;">Click to Download File</a>
        </div>
    </div>

    <div class="instructions">
        <div class="step"><span>01.</span> Link Paste Karein.</div>
        <div class="step"><span>02.</span> Video ya Audio par click karein.</div>
        <div class="step"><span>03.</span> Thumbnail ko "Long Press" karke save karein.</div>
    </div>
</div>

<script>
    function loadPreview() {
        let url = document.getElementById('targetUrl').value;
        let id = extractID(url);
        if(id) {
            document.getElementById('previewPic').src = `https://img.youtube.com/vi/${id}/maxresdefault.jpg`;
            document.getElementById('display-area').style.display = 'block';
            document.getElementById('loading-msg').innerText = "Thumbnail Loaded! Long press to save.";
            document.getElementById('final-link').style.display = 'none';
        } else { alert("Bhai sahi link dalo!"); }
    }

    function startConvert(type) {
        let url = document.getElementById('targetUrl').value;
        if(!url) { alert("Pehle link dalo!"); return; }
        
        document.getElementById('display-area').style.display = 'block';
        document.getElementById('loading-msg').innerText = "⚙️ Processing... Please Wait";
        document.getElementById('final-link').style.display = 'none';

        // Ye API bina redirection ke kaam karne ki koshish karegi
        setTimeout(() => {
            document.getElementById('loading-msg').innerText = "✅ File Ready!";
            let dBtn = document.getElementById('final-link');
            dBtn.style.display = 'block';
            
            // Sabse stable downloading service ka use
            if(type === 'mp4') {
                dBtn.href = `https://9xbuddy.com/download?url=${url}`;
            } else {
                dBtn.href = `https://ytmp3.nu/en114/`;
            }
            dBtn.target = "_blank";
        }, 1500);
    }

    function extractID(url) {
        let reg = /^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
        let m = url.match(reg);
        return (m && m[2].length == 11) ? m[2] : false;
    }
</script>

</body>
</html>
